# Install

```bash
go install github.com/thomas-fossati/go-psa@latest
```

# Run

## PSA profile 1

```bash
─○ go-psa -p 1 < example-p1.json | xxd -p -r | cbor2diag.rb
```

outputs:

```
{-75000: "PSA_IOT_PROFILE_1", -75001: 1, -75002: 12288, -75003: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', -75004: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', -75006: [{2: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', 5: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20'}, {2: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', 5: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20'}], -75008: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', -75009: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F2021'}
```

## PSA profile 2

```bash
─○ go-psa -p 2 < example-p2.json | xxd -p -r | cbor2diag.rb
```

outputs:

```
{265: "http://arm.com/psa/2.0.0", 2394: 1, 2395: 12288, 2396: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', 2398: "1234567890123-12345", 2399: [{2: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', 5: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20'}, {2: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', 5: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20'}], 10: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F20', 256: h'0102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F2021'}
```

## CCA platform

```bash
─○ go-psa -p cca < example-cca.json | xxd -p -r | cbor2diag.rb
```

outputs:

```
{265: "http://arm.com/CCA-SSD/1.0.0", 10: null, 2396: h'0000000000000000000000000000000000000000000000000000000000000000', 256: h'010202020202020202020202020202020202020202020202020202020202020202', 2401: h'010203', 2395: 12288, 2399: [{2: h'0303030303030303030303030303030303030303030303030303030303030303', 5: h'0404040404040404040404040404040404040404040404040404040404040404'}], 2400: "https://veraison.example/v1/challenge-response", 2402: "sha-256"}
```
